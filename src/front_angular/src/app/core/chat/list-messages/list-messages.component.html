<div *ngFor="let message of messagesList; let i = index" class="message-component">
  <div class="message-input">
    <div class="message">
      <img loading="lazy" srcset="../../../../assets/photo.jpg" class="img" />

      <div class="name-message">
        <div class="name-hour">
          <p class="text-name">{{ message.user?.userName }}</p>
          <p class="note">{{ message.hour }}</p>
        </div>
        <p class="text-message">{{ message.content }}</p>
      </div>


      <svg
        (click)="openButtons(i)"
        class="setting"
        width="22"
        height="22"
        viewBox="0 0 22 22"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <circle cx="11" cy="11" r="10.5" stroke="white" />
        <circle cx="11.5" cy="6.5" r="1.5" fill="white" />
        <circle cx="11.5" cy="11.5" r="1.5" fill="white" />
        <circle cx="11.5" cy="16.5" r="1.5" fill="white" />
      </svg>

      <div [ngClass]="{'btns-open': buttonsOpen[i], 'btns-hidden': !buttonsOpen[i]}">
        <div class="btn-config">
          <button (click)="update(message.id)" class="btn update-btn">
            Modifier le message
          </button>
          <button (click)="delete(message.id)" class="btn delete-btn">
            Supprimer le message
          </button>
        </div>
      </div>
    </div>

    <form *ngIf="idMessage === message.id" [formGroup]="formMessage" class="form-message">
      <input
        formControlName="content"
        type="text"
        name="content"
        id="content"
        placeholder="Envoyer un message"
      />
      <button (click)="save()" class="div-3">Envoyer</button>
    </form>
  </div>
</div>